
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Lesson 2 Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Lesson3.html" />
    
    
    <link rel="prev" href="Lesson1.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../html-css/">
            
                <a href="../html-css/#html-css">
            
                    
                    HTML/CSS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../html-css/">
            
                <a href="../html-css/#lesson-1">
            
                    
                    Lesson 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../html-css/">
            
                <a href="../html-css/#lesson-2">
            
                    
                    Lesson 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../html-css/">
            
                <a href="../html-css/#lesson-3">
            
                    
                    Lesson 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../build-a-house/">
            
                <a href="../build-a-house/">
            
                    
                    Build a house
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../blog-challenge/">
            
                <a href="../blog-challenge/">
            
                    
                    Blog challenge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../css-challenge/">
            
                <a href="../css-challenge/">
            
                    
                    CSS challenge
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../javascript-module1/">
            
                <a href="../javascript-module1/">
            
                    
                    JavaScript I
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../javascript-module1/lesson1.html">
            
                <a href="../javascript-module1/lesson1.html">
            
                    
                    Lesson 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../javascript-module1/lesson2.html">
            
                <a href="../javascript-module1/lesson2.html">
            
                    
                    Lesson 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../javascript-module1/lesson3.html">
            
                <a href="../javascript-module1/lesson3.html">
            
                    
                    Lesson 3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../javascript-module2/">
            
                <a href="../javascript-module2/">
            
                    
                    JavaScript II
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="Lesson1.html">
            
                <a href="Lesson1.html">
            
                    
                    Lesson 1
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.2" data-path="Lesson2.html">
            
                <a href="Lesson2.html">
            
                    
                    Lesson 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="Lesson3.html">
            
                <a href="Lesson3.html">
            
                    
                    Lesson 3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="Lesson4.html">
            
                <a href="Lesson4.html">
            
                    
                    Lesson 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../react-unhcr/">
            
                <a href="../react-unhcr/">
            
                    
                    UNHCR challenge
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../CONTRIBUTING.html">
            
                <a href="../CONTRIBUTING.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Lesson 2</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="react-lesson-2">React Lesson 2</h2>
<p>In this lesson we will be learning to use React components more effectively with deeper understanding of <code>Props</code> and <code>State</code>.</p>
<p>A React app is basically just a pile of big components (parents) that call smaller (child) components.</p>
<h2 id="props">Props</h2>
<p>React components are best understood in terms of parents and children.</p>
<p>Parent or <code>container</code> components may have access to the data that they need in order to pass on to multiple child components. These larger components often contain the actions (e.g. API calls) or data processing functions that their child components require and thus are referred to as <code>smart</code> components.</p>
<p>Example:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> Organisation <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./Organisation&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Organisation</span>
            <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Refugee Support Network&quot;</span>
            <span class="hljs-attr">website</span>=<span class="hljs-string">&quot;http://www.refugeesupportnetwork.org&quot;</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    );
  }
}

export default App;
</span></code></pre>
<p>Child or <code>presentational</code> components are essentially smaller customisable to the data that they receive but usually do not have the data in themselves. These are often referred to as <code>dumb</code> components - because they do not process the data in themselves:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Organisation</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">const</span> name = <span class="hljs-keyword">this</span>.props.name;
    <span class="hljs-keyword">const</span> website = <span class="hljs-keyword">this</span>.props.website;
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            Name: {name} <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
            Website: {website}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    );
  }
}

export default Organisation;
</span></code></pre>
<ul>
<li><a href="https://jsfiddle.net/kabaros/1h9taf1e/" target="_blank">Props exercise</a></li>
</ul>
<h2 id="jsx-map-arrays-to-components">JSX: Map Arrays to Components</h2>
<p>When working with APIs we often have collections of things in <code>Arrays</code> which we want to map to components. This means we can loop through that data and display the customisable <code>dumb</code> component for each one.</p>
<pre><code class="lang-jsx">
renderOrganisations() {
    <span class="hljs-keyword">const</span> orgData = [{ name: <span class="hljs-string">&apos;Organisation 1&apos;</span>, borough: <span class="hljs-string">&apos;Camden&apos;</span>}, {name: <span class="hljs-string">&apos;Organisation 2&apos;</span>}];
    <span class="hljs-keyword">return</span> orgData.map(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderData</span>(<span class="hljs-params">organisation</span>) </span>{
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Organisation</span>
                <span class="hljs-attr">name</span>= {<span class="hljs-attr">organisation.name</span>}
                <span class="hljs-attr">borough</span>=<span class="hljs-string">{organisation.borough</span> ? <span class="hljs-attr">organisation.borough</span> <span class="hljs-attr">:</span> &apos;<span class="hljs-attr">None</span>&apos;}
                <span class="hljs-attr">website</span>= {<span class="hljs-attr">organisation.website</span>}
            /&gt;</span>
        )
    });
}
class App extends Component {
  render() {
      return (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span>
          {this.renderOrganisations()}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      );
  }
}
</span></code></pre>
<ul>
<li><a href="https://codepen.io/kabaros/pen/BpLzzE?editors=0010#0" target="_blank">Mapping Exercise</a></li>
</ul>
<h2 id="state">State</h2>
<p>Sometimes a component needs to react to data that doesn&apos;t come from a parent component. This is where the component&apos;s State comes in.</p>
<p>Props are a Compenent&apos;s configuration, they are received from above and they don&apos;t usually change by the component itself.
State starts with a default value (set in the constructor typically) then it gets changed (mutated) by events of the application (user interactions, form input, API calls etc..)</p>
<p>Example:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>;
<span class="hljs-keyword">import</span> Organisation <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./Organisation&apos;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  <span class="hljs-keyword">constructor</span>(props) {
    <span class="hljs-keyword">super</span>(props);
    <span class="hljs-keyword">this</span>.state = {
        website: <span class="hljs-literal">null</span>
    }
  }

  handleChange(event) {
    <span class="hljs-keyword">this</span>.setState({website: event.target.value});
  }
  render() {
    <span class="hljs-keyword">return</span> (
      &lt;div className=&quot;App&quot;&gt;
        &lt;Organisation
            name=&quot;Refugee Support Network&quot;
            website={this.state.website}
        /&gt;
        &lt;input type=&quot;text&quot; value={this.state.website} onChange={this.handleChange.bind(this)} /&gt;
      &lt;/div&gt;
    );
  }
}

export default App;
</code></pre>
<ul>
<li><a href="https://codepen.io/kabaros/pen/NdRNmm?editors=0010#0" target="_blank">State Exercise</a></li>
</ul>
<h2 id="component-life-cycle">Component Life Cycle</h2>
<p><img src="../images/firstrender.png" alt="First Render" title="Life Cycle Methods on the first render of a component"></p>
<p>Components have <code>life cycle</code> events which are methods that run code at particular times in the process. According to the time that the methods are called, some of them are often prefixed with <code>will</code> and <code>did</code>.</p>
<p>The diagram below shows the full picture of what happens during the rendering of a component. Even though you have all these methods available to use at your disposal, the only <code>required</code> method is <code>render()</code>.</p>
<p><img src="../images/componentlifecycle.jpg" alt="Component Lifecycle" title="All lifecycle Methods of a React component"></p>
<h2 id="mounting">Mounting</h2>
<p>These are called when a component is being mounted on the DOM such as:</p>
<ul>
<li>Constructor()</li>
<li>componentWillMount()</li>
<li>render()</li>
<li>etc</li>
</ul>
<h2 id="updating">Updating</h2>
<p>When there are changes to the props or state:</p>
<ul>
<li>componentWillReceiveProps()</li>
<li>componentDidUpdate()</li>
<li>render()</li>
<li>etc</li>
</ul>
<h2 id="unmonting">Unmonting</h2>
<p>When a component is being removed from the DOM:</p>
<ul>
<li>componentWillUnmount()</li>
</ul>
<h2 id="other-apis">Other APIs</h2>
<p>These include <code>setState()</code> and <code>forceUpdate()</code>. You cannot access the state in some lifecycle methods, refer to the diagram above to find out which.</p>
<p>The complete list of these methods with their descriptions can be found in the documentation <a href="https://facebook.github.io/react/docs/react-component.html" target="_blank">here</a>.</p>
<h2 id="api-calls">API calls</h2>
<p>In order to make an API called you can call the functions same</p>
<pre><code class="lang-jsx">callAPI = () =&gt; {
    <span class="hljs-keyword">const</span> APIAddress = <span class="hljs-string">&apos;https://code-your-future.github.io/api-demo/area/All/index.json&apos;</span>;
    fetch(APIAddress)
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
      <span class="hljs-keyword">return</span> response.json();
    })
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">jsonData</span>) </span>{
      <span class="hljs-keyword">this</span>.setState({ orgData: jsonData });
    });
}
</code></pre>
<p>In order to use this function when the component first loads we will call it in the <code>componentDidMount()</code> lifecycle method.</p>
<pre><code class="lang-jsx">componentDidMount() {
    <span class="hljs-keyword">this</span>.callAPI();
}
</code></pre>
<p>Once the state is updated with the data, your component will re-render.</p>
<h2 id="homework">Homework</h2>
<ul>
<li><a href="Homework/Homework2.md">Lesson 2 Homework</a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Lesson1.html" class="navigation navigation-prev " aria-label="Previous page: Lesson 1">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Lesson3.html" class="navigation navigation-next " aria-label="Next page: Lesson 3">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Lesson 2","level":"1.5.2","depth":2,"next":{"title":"Lesson 3","level":"1.5.3","depth":2,"path":"react-module/Lesson3.md","ref":"react-module/Lesson3.md","articles":[]},"previous":{"title":"Lesson 1","level":"1.5.1","depth":2,"path":"react-module/Lesson1.md","ref":"react-module/Lesson1.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"react-module/Lesson2.md","mtime":"2017-01-30T23:13:51.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-30T23:29:13.087Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

